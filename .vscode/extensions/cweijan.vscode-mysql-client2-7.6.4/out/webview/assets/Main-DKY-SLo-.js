import{d as h,r as l,C as D,j as v,a as r,V as C,X as T,u as w,e as k,F as N,v as S,f as x,q as B,as as L,k as V,o,n as _,b as I,s as R,t as U,l as b,W as A,at as E,_ as M}from"./app-2NaTuxnu.js";import{u as P}from"./resultUIStore-BWMz7hFC.js";import{i as Q,D as f}from"./constants-BAQss29X.js";import"./wrapper-D6kMfi6x.js";const F={id:"tableTab",class:"tab"},K=["onClick"],$=h({__name:"Main",setup(j){const d=L(),g=P(),c=l(null),n=l(!1),i=l("result"),p=l([{id:"design",i18n:"table.design",icon:"codicon-edit",disabled:()=>!n.value},{id:"result",i18n:"table.data",icon:"codicon-database blue"},{id:"erDiagram",i18n:"table.erDiagram",icon:"codicon-symbol-class yellow",disabled:()=>!n.value||Q(c.value)},{id:"status",i18n:"table.monitor",icon:"codicon-graph-line",disabled:()=>[f.SQLITE,f.DUCK_DB].includes(c.value)},{id:"log",i18n:"common.log",icon:"codicon-file"}]),u=e=>{typeof e=="string"&&(e={id:e});const{id:s,disabled:t}=e;console.log(t,t==null?void 0:t()),!(t!=null&&t())&&i.value!==s&&(i.value=s,d.push(s),s=="log"&&v.emit("initTerminal"))};return D(()=>{i.value=d.currentRoute.value.name,window.addEventListener("message",({data:e})=>{["RUN","DATA"].includes(e.type)&&!["design","result","erDiagram"].includes(i.value)&&u("result")}),v.on("table_info",({singleTable:e,dbType:s})=>{c.value=s,n.value=e,n.value||u("result")})}),(e,s)=>{const t=V("router-view");return o(),r("div",null,[C(k("ul",F,[(o(!0),r(N,null,S(p.value,(a,y)=>{var m;return o(),r("li",{key:y,class:_(["tab__item",{"tab__item--active":i.value==a.id,disabled:(m=a.disabled)==null?void 0:m.call(a)}]),onClick:q=>u(a)},[a.icon?(o(),r("i",{key:0,type:"icon",class:_(a.icon),style:{position:"relative",top:"3px"}},null,2)):I("",!0),R(" "+U(e.$t(a.i18n)),1)],10,K)}),128))],512),[[T,w(g).showSQLPanel]]),x(t,null,{default:B(({Component:a})=>[(o(),b(E,null,[(o(),b(A(a)))],1024))]),_:1})])}}}),H=M($,[["__scopeId","data-v-c49a39b4"]]);export{H as default};
