import{n as k,s as te,e as R}from"./notify-Bt1gVq3I.js";import{d as Q,o as p,a as _,e as a,S as ne,n as le,_ as j,z as se,r as f,C as M,j as d,k as H,f as n,q as t,t as l,s as i,b as G,u as A,c as ae,F as P,v as q,l as I,$ as L}from"./app-2NaTuxnu.js";import{E as ie}from"./index-q7wpkdHS.js";import{E as re}from"./index-CuMOC1RV.js";import{E as T}from"./index-DkgCsvPV.js";import{E as ce,a as ue}from"./index-Dxi70t3x.js";import{E as de}from"./index-CKBpPw1z.js";import"./focus-trap-DG7KuklN.js";import"./validator-Ck6uYmy0.js";import"./index-e1cOMqQr.js";import"./isUndefined-DCTLXrZ8.js";import"./index-Cp2VIddr.js";import"./index-C65URB2z.js";import"./isEqual-DHsF_i4S.js";import"./index-CvCqbUZ-.js";import"./_baseFindIndex-D7XfJLKM.js";import"./_baseIteratee-DQg0Nld-.js";import"./castArray-DE5M-hgv.js";const me={class:"card"},pe=Q({__name:"Card",props:{full:Boolean},setup(S){return(m,g)=>(p(),_("div",{class:le(["card-container",{"card-container-full":S.full}])},[a("div",me,[ne(m.$slots,"default",{},void 0,!0)])],2))}}),B=j(pe,[["__scopeId","data-v-798fd364"]]),ve={style:{"min-width":"300px"}},fe={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},ge={style:{margin:"20px 0"}},ye={class:"text-right mt-2"},Ce={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},_e={class:"my-2"},$e={class:"mr-2"},he={style:{"margin-top":"5px","margin-bottom":"10px"}},be={style:{"text-align":"right",margin:"0"}},we={style:{"margin-top":"5px","margin-bottom":"10px"}},ke={style:{"text-align":"right",margin:"0"}},Se={style:{"margin-top":"5px","margin-bottom":"10px"}},Ve={style:{"text-align":"right",margin:"0"}},xe={style:{"margin-top":"20px"}},ze={style:{"font-size":"16px","font-weight":"700","padding-bottom":"0","padding-top":"8px"}},Ee={key:0,class:"mt-3 mb-2"},Le={class:"mt-3 mb-2"},Oe={class:"mt-3 mb-1"},Ae=Q({__name:"CloudConfig",setup(S){const m=se(),g=f(!1),y=f(!1),C=f(!1),r=f(!1),$=f(!1),h=f(null),V=f(!1),x=f(!1),w=f(!1),z=f(!1),E=f(!1);M(()=>{g.value=m.config.autoSync,d.on("importConfirm",()=>{$.value=!0}).on("importResult",({success:e,message:o,cancel:s})=>{if($.value=!1,s)return;k({duration:e?1e3:2e3,message:o,type:e?"success":"error"})}).on("downloadConfirm",()=>{w.value=!1,r.value=!0}).on("downloadResult",({success:e,message:o})=>{w.value=!1,k({duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("uploadRes",({success:e,message:o})=>{V.value=!1,k({duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("removeRes",({success:e,message:o})=>{x.value=!1,k({duration:e?1e3:3e3,message:o,type:e?"success":"error"})}).on("syncKey",e=>{(!h.value||z.value)&&(h.value=e,z.value=!1)})});const N=()=>{d.emit("updateOption",{name:"autoSync",value:g.value})},c=()=>{te(`Width: ${window.innerWidth}, Height: ${window.innerHeight}`)},U=()=>{d.emit("clearCache")},v=()=>{d.emit("open","https://github.com/cweijan/vscode-database-client/issues")},J=()=>{d.emit("editConfig")},X=()=>{z.value=!0,d.emit("chooseSyncKey")},Y=()=>{d.emit("exportConfig")},W=e=>{d.emit("importConfig",e)},Z=()=>{if(!m.isPay){R("Free account not support upload configuration!");return}y.value=!1,V.value=!0,d.emit("uploadConfig",h.value)},ee=()=>{C.value=!1,x.value=!0,d.emit("removeConfig")},K=e=>{if(!m.isPay){R("Free account not support sync data!");return}r.value=!1,w.value=!0,d.emit("downloadConfig",{keyPath:h.value,type:e})};return(e,o)=>{const s=H("vsc-button"),b=ie,F=re,oe=T;return p(),_("div",null,[n(B,{class:"!mb-3"},{default:t(()=>[a("div",ve,[a("div",fe,l(e.$t("console.configuration")),1),a("div",ge,[n(s,{type:"secondary",icon:"codicon-edit",onClick:J},{default:t(()=>[i(l(e.$t("console.edit")),1)]),_:1}),n(s,{icon:"codicon-arrow-up",onClick:Y},{default:t(()=>[i(l(e.$t("console.export")),1)]),_:1}),n(b,{placement:"top",visible:$.value,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(s,{icon:"codicon-arrow-down",onClick:o[3]||(o[3]=u=>W())},{default:t(()=>[i(l(e.$t("console.import")),1)]),_:1})]),default:t(()=>[a("p",null,l(e.$t("console.mergeConfirm")),1),a("div",ye,[n(s,{type:"secondary",onClick:o[0]||(o[0]=u=>$.value=!1)},{default:t(()=>[i(l(e.$t("common.cancel")),1)]),_:1}),n(s,{onClick:o[1]||(o[1]=u=>W("merge"))},{default:t(()=>[i(l(e.$t("console.merge")),1)]),_:1}),n(s,{onClick:o[2]||(o[2]=u=>W("overwrite"))},{default:t(()=>[i(l(e.$t("console.overwrite")),1)]),_:1})])]),_:1},8,["visible"])])])]),_:1}),n(B,{class:"!mb-3"},{default:t(()=>[a("div",null,[a("div",Ce,l(e.$t("console.sync")),1),a("div",_e,[a("label",$e,l(e.$t("console.autoSync")),1),n(F,{modelValue:g.value,"onUpdate:modelValue":o[4]||(o[4]=u=>g.value=u),onChange:N},null,8,["modelValue"])]),a("div",null,[n(b,{placement:"top",visible:C.value,trigger:"manual"},{reference:t(()=>[n(s,{type:"secondary",icon:"el-icon-delete",loading:x.value,onClick:o[6]||(o[6]=u=>C.value=!0)},{default:t(()=>[i(l(e.$t("console.remove")),1)]),_:1},8,["loading"])]),default:t(()=>[a("p",he,l(e.$t("console.removeConfirm")),1),a("div",be,[n(s,{type:"secondary",onClick:o[5]||(o[5]=u=>C.value=!1)},{default:t(()=>[i(l(e.$t("common.cancel")),1)]),_:1}),n(s,{onClick:ee},{default:t(()=>[i(l(e.$t("result.confirm")),1)]),_:1})])]),_:1},8,["visible"]),n(b,{placement:"top",visible:y.value,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(s,{icon:"codicon-cloud-upload",loading:V.value,onClick:o[8]||(o[8]=u=>y.value=!0)},{default:t(()=>[i(l(e.$t("console.upload")),1)]),_:1},8,["loading"])]),default:t(()=>[a("p",we,l(e.$t("console.uploadConfirm")),1),a("div",ke,[n(s,{type:"secondary",onClick:o[7]||(o[7]=u=>y.value=!1)},{default:t(()=>[i(l(e.$t("common.cancel")),1)]),_:1}),n(s,{onClick:Z},{default:t(()=>[i(l(e.$t("result.confirm")),1)]),_:1})])]),_:1},8,["visible"]),n(b,{placement:"top",visible:r.value,trigger:"manual",class:"ml-7px"},{reference:t(()=>[n(s,{icon:"codicon-cloud-download",loading:w.value,onClick:o[12]||(o[12]=u=>K())},{default:t(()=>[i(l(e.$t("console.download")),1)]),_:1},8,["loading"])]),default:t(()=>[a("p",Se,l(e.$t("console.mergeConfirm")),1),a("div",Ve,[n(s,{type:"secondary",onClick:o[9]||(o[9]=u=>r.value=!1)},{default:t(()=>[i(l(e.$t("common.cancel")),1)]),_:1}),n(s,{onClick:o[10]||(o[10]=u=>K("merge"))},{default:t(()=>[i(l(e.$t("console.merge")),1)]),_:1}),n(s,{onClick:o[11]||(o[11]=u=>K("overwrite"))},{default:t(()=>[i(l(e.$t("console.overwrite")),1)]),_:1})])]),_:1},8,["visible"]),a("div",xe,[n(oe,{modelValue:h.value,"onUpdate:modelValue":o[13]||(o[13]=u=>h.value=u),size:"small",class:"!w-52",placeholder:"Aes encryption Key"},null,8,["modelValue"]),n(s,{icon:"codicon-file",class:"!ml-1 relative",style:{top:"3px"},onClick:X})])])])]),_:1}),n(B,null,{default:t(()=>[a("div",null,[a("div",ze,l(e.$t("console.other")),1),E.value?(p(),_("div",Ee,[n(s,{icon:"codicon-gear",size:"small",onClick:c},{default:t(()=>[i(" 获取页面宽高 ")]),_:1})])):G("",!0),a("div",Le,[n(s,{icon:"codicon-chrome-close",size:"small",onClick:o[14]||(o[14]=u=>{A(d).emit("closeAllConnections")})},{default:t(()=>[i(l(e.$t("toolbar.closeAllConnections")),1)]),_:1})]),a("div",Oe,[n(s,{icon:"codicon-github-inverted",size:"small",onClick:v},{default:t(()=>[i(l(e.$t("toolbar.reportIssue")),1)]),_:1}),n(s,{icon:"codicon-clear-all",size:"small",onClick:U},{default:t(()=>[i(l(e.$t("toolbar.clearCache")),1)]),_:1})])])]),_:1})])}}}),Be=j(Ae,[["__scopeId","data-v-c111f202"]]),Ne={editor:["disableSqlCodeLenNew","splitSQLByNewLine","highlightSQLBlock","bindConnectionByActiveMark","confirmWhenUpdateWithoutWhere","executeCursorSQLByShortcut"],result:["openResultsAsVertically","splitEditorWhenQuery","reloadAfterDML","autoGetTableCount"],treeView:["showUser","saveConnectionExpandedState"],sql:["escapedAllObjectName","capitalizeKeywordsWhenFormatting","autoPagingSQL","queryWithSchema","maxSQLParseLength"]};function O(S,m){const g=Ne[S];return m.filter(y=>g.includes(y.name)).sort((y,C)=>g.indexOf(y.name)-g.indexOf(C.name))}const D={escapedAllObjectName:[{value:"auto",label:"Auto"},{value:"never",label:"Never"},{value:"always",label:"Always"}]},Ue={class:"flex flex-wrap justify-center console-container"},We={class:"option-container"},Ke={class:"option-title"},Pe={class:"option-list"},qe={key:0},Ie={key:2},Qe=Q({__name:"console",setup(S){const m=f([]),g=ae(()=>[{title:L("console.editorOptions"),options:O("editor",m.value)},{title:L("console.sqlOptions"),options:O("sql",m.value)},{title:L("console.treeOptions"),options:O("treeView",m.value)},{title:L("console.resultOptions"),options:O("result",m.value)}]);M(async()=>{d.emit("options").on("options",({options:r})=>{m.value=r}).on("configSuccess",r=>{k({message:r,type:"success"})}).on("resetSuccess",r=>{k({message:r,type:"success"}),d.emit("options")}).init()});const y=r=>{d.emit("resetOption",r)},C=r=>{let $=r.value;r.type=="boolean"&&($=!r.value,r.value=$),d.emit("updateOption",{...r,value:$})};return(r,$)=>{const h=H("vsc-button"),V=ce,x=ue,w=de,z=T;return p(),_("div",Ue,[n(Be),a("div",We,[(p(!0),_(P,null,q(g.value,(E,N)=>(p(),I(B,{key:N,style:{"max-width":"350px","min-width":"300px"}},{default:t(()=>[a("div",Ke,l(E.title),1),n(h,{icon:"codicon-wand",size:"small",title:A(L)("console.resetConfig"),onClick:c=>y(E.options)},null,8,["title","onClick"]),a("div",Pe,[(p(!0),_(P,null,q(E.options,(c,U)=>(p(),_("div",{key:U,class:"option-item"},[A(D)[c.name]?(p(),_("div",qe,[i(l(c.description)+" ",1),n(x,{modelValue:c.value,"onUpdate:modelValue":v=>c.value=v,class:"w-28",size:"small",onChange:v=>C(c)},{default:t(()=>[(p(!0),_(P,null,q(A(D)[c.name],v=>(p(),I(V,{key:v.value,value:v.value,label:v.label},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):c.type=="boolean"?(p(),I(w,{key:1,"model-value":c.value,onChange:v=>C(c)},{default:t(()=>[i(l(c.description),1)]),_:2},1032,["model-value","onChange"])):["string","number"].includes(c.type)?(p(),_("div",Ie,[i(l(c.description)+" ",1),n(z,{modelValue:c.value,"onUpdate:modelValue":v=>c.value=v,size:"small",class:"!w-20 ml-1",onChange:v=>C(c)},null,8,["modelValue","onUpdate:modelValue","onChange"])])):G("",!0)]))),128))])]),_:2},1024))),128))])])}}}),ao=j(Qe,[["__scopeId","data-v-d0433b57"]]);export{ao as default};
